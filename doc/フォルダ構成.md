# ライフプランアプリ フォルダ構成

## 概要

本プロジェクトは Reactで構築されたライフプラン管理アプリケーションです。Atomic Design パターンと Feature-based Architecture を組み合わせた構成で、保守性と拡張性を重視した設計となっています。

## プロジェクト全体構成

```
shin-lifeplan-app/
├── public/                  # 静的ファイル
│   ├── index.html          # エントリーポイント
│   ├── favicon.ico         # ファビコン
│   └── manifest.json       # PWA設定
├── src/                    # ソースコード
├── doc/                    # ドキュメント
├── .storybook/             # Storybook設定
├── package.json            # 依存関係定義
├── tailwind.config.js      # TailwindCSS設定
└── postcss.config.js       # PostCSS設定
```

## src/ フォルダ詳細構成

```
src/
├── components/             # 再利用可能なUIコンポーネント
│   ├── ui/                # 基本UIコンポーネント
│   │   ├── Button.js      # ボタンコンポーネント
│   │   ├── Button.stories.js  # Storybookストーリー
│   │   ├── Input.js       # 入力フィールド
│   │   ├── Select.js      # セレクトボックス
│   │   ├── Modal.js       # モーダルダイアログ
│   │   ├── Card.js        # カードコンポーネント
│   │   ├── Table.js       # テーブルコンポーネント
│   │   ├── Tabs.js        # タブコンポーネント
│   │   ├── Accordion.js   # アコーディオン
│   │   ├── CurrencyDisplay.js  # 通貨表示
│   │   ├── CategoryGrid.js     # カテゴリ選択グリッド
│   │   └── index.js       # エクスポート集約
│   ├── layout/            # レイアウト関連コンポーネント
│   │   ├── Header.js      # アプリヘッダー
│   │   ├── Sidebar.js     # サイドバーナビゲーション
│   │   ├── Layout.js      # メインレイアウト
│   │   ├── Navigation.js  # ナビゲーションメニュー
│   │   └── Footer.js      # フッター
│   ├── forms/             # フォーム関連コンポーネント
│   │   ├── FormField.js   # フォームフィールドラッパー
│   │   ├── FormValidation.js  # バリデーション表示
│   │   ├── DatePicker.js  # 日付選択
│   │   ├── NumberInput.js # 数値入力
│   │   └── FileUpload.js  # ファイルアップロード
│   └── charts/            # グラフ・チャート関連
│       ├── PieChart.js    # 円グラフ（支出分析用）
│       ├── LineChart.js   # 折れ線グラフ（資産推移用）
│       ├── BarChart.js    # 棒グラフ（月別比較用）
│       └── AssetChart.js  # 資産配分チャート
├── features/              # 機能別のコンポーネントとロジック
│   ├── dashboard/         # ダッシュボード機能
│   │   ├── components/    # ダッシュボード専用コンポーネント
│   │   │   ├── SummaryCards.js    # サマリーカード群
│   │   │   ├── RecentTransactions.js  # 最近の取引
│   │   │   ├── BudgetProgress.js  # 予算進捗
│   │   │   └── AssetOverview.js   # 資産概要
│   │   ├── hooks/         # ダッシュボード専用フック
│   │   │   ├── useDashboardData.js
│   │   │   └── useSummaryStats.js
│   │   └── services/      # ダッシュボードAPI
│   │       └── dashboardService.js
│   ├── transactions/      # 取引管理（支出・収入・振替・投資）
│   │   ├── components/
│   │   │   ├── TransactionList.js     # 取引一覧
│   │   │   ├── TransactionForm.js     # 取引入力フォーム
│   │   │   ├── TransactionCard.js     # 取引カード
│   │   │   ├── CategoryFilter.js      # カテゴリフィルター
│   │   │   ├── TransactionModal.js    # 取引編集モーダル
│   │   │   └── BulkActions.js         # 一括操作
│   │   ├── hooks/
│   │   │   ├── useTransactions.js
│   │   │   ├── useTransactionForm.js
│   │   │   └── useTransactionFilters.js
│   │   └── services/
│   │       ├── transactionService.js
│   │       └── transactionValidation.js
│   ├── accounts/          # 口座管理
│   │   ├── components/
│   │   │   ├── AccountList.js         # 口座一覧
│   │   │   ├── AccountCard.js         # 口座カード
│   │   │   ├── AccountForm.js         # 口座編集フォーム
│   │   │   ├── AccountDetail.js       # 口座詳細
│   │   │   └── BalanceHistory.js      # 残高履歴
│   │   ├── hooks/
│   │   │   ├── useAccounts.js
│   │   │   └── useAccountBalance.js
│   │   └── services/
│   │       └── accountService.js
│   ├── assets/            # 資産管理
│   │   ├── components/
│   │   │   ├── AssetList.js           # 資産一覧
│   │   │   ├── AssetCard.js           # 資産カード
│   │   │   ├── AssetForm.js           # 資産編集フォーム
│   │   │   ├── PortfolioView.js       # ポートフォリオ表示
│   │   │   ├── AssetAllocation.js     # 資産配分
│   │   │   └── PerformanceChart.js    # パフォーマンスチャート
│   │   ├── hooks/
│   │   │   ├── useAssets.js
│   │   │   ├── usePortfolio.js
│   │   │   └── useAssetPerformance.js
│   │   └── services/
│   │       ├── assetService.js
│   │       └── portfolioService.js
│   ├── categories/        # カテゴリ管理
│   │   ├── components/
│   │   │   ├── CategoryList.js        # カテゴリ一覧
│   │   │   ├── CategoryForm.js        # カテゴリ編集
│   │   │   ├── CategoryTree.js        # カテゴリツリー
│   │   │   └── CategoryIcon.js        # カテゴリアイコン
│   │   ├── hooks/
│   │   │   └── useCategories.js
│   │   └── services/
│   │       └── categoryService.js
│   ├── templates/         # テンプレート管理
│   │   ├── components/
│   │   │   ├── TemplateList.js        # テンプレート一覧
│   │   │   ├── TemplateForm.js        # テンプレート編集
│   │   │   ├── TemplateModal.js       # テンプレート選択モーダル
│   │   │   └── TemplatePreview.js     # テンプレートプレビュー
│   │   ├── hooks/
│   │   │   └── useTemplates.js
│   │   └── services/
│   │       └── templateService.js
│   ├── events/            # イベント管理
│   │   ├── components/
│   │   │   ├── EventList.js           # イベント一覧
│   │   │   ├── EventForm.js           # イベント編集
│   │   │   ├── EventCalendar.js       # イベントカレンダー
│   │   │   └── EventTimeline.js       # イベントタイムライン
│   │   ├── hooks/
│   │   │   └── useEvents.js
│   │   └── services/
│   │       └── eventService.js
│   ├── reports/           # レポート・分析
│   │   ├── components/
│   │   │   ├── ReportDashboard.js     # レポートダッシュボード
│   │   │   ├── ExpenseReport.js       # 支出レポート
│   │   │   ├── IncomeReport.js        # 収入レポート
│   │   │   ├── AssetReport.js         # 資産レポート
│   │   │   ├── BudgetReport.js        # 予算レポート
│   │   │   ├── TrendAnalysis.js       # トレンド分析
│   │   │   └── ReportExport.js        # レポートエクスポート
│   │   ├── hooks/
│   │   │   ├── useReportData.js
│   │   │   └── useAnalytics.js
│   │   └── services/
│   │       ├── reportService.js
│   │       └── analyticsService.js
│   ├── settings/          # 設定
│   │   ├── components/
│   │   │   ├── SettingsList.js        # 設定一覧
│   │   │   ├── ProfileSettings.js     # プロフィール設定
│   │   │   ├── NotificationSettings.js # 通知設定
│   │   │   ├── SecuritySettings.js    # セキュリティ設定
│   │   │   ├── DataExport.js          # データエクスポート
│   │   │   └── FIRECalculator.js      # FIRE計算機
│   │   ├── hooks/
│   │   │   └── useSettings.js
│   │   └── services/
│   │       └── settingsService.js
│   └── lifeplan/          # ライフプラン作成
│       ├── components/
│       │   ├── LifePlanWizard.js      # ライフプラン作成ウィザード
│       │   ├── FamilyMemberForm.js    # 家族メンバー登録
│       │   ├── GoalSetting.js         # 目標設定
│       │   ├── ScenarioPlanning.js    # シナリオプラニング
│       │   ├── ProjectionChart.js     # 将来予測チャート
│       │   └── PlanSummary.js         # プラン要約
│       ├── hooks/
│       │   ├── useLifePlan.js
│       │   └── useProjections.js
│       └── services/
│           ├── lifePlanService.js
│           └── projectionService.js
├── hooks/                 # 共通カスタムフック
│   ├── useAuth.js         # 認証関連
│   ├── useApi.js          # API呼び出し
│   ├── useLocalStorage.js # ローカルストレージ
│   ├── useDebounce.js     # デバウンス処理
│   ├── usePagination.js   # ページネーション
│   ├── useForm.js         # フォーム管理
│   └── useTheme.js        # テーマ管理
├── store/                 # Zustand store（状態管理）
│   ├── authStore.js       # 認証状態
│   ├── userStore.js       # ユーザー情報
│   ├── transactionStore.js # 取引データ
│   ├── accountStore.js    # 口座データ
│   ├── assetStore.js      # 資産データ
│   ├── categoryStore.js   # カテゴリデータ
│   ├── templateStore.js   # テンプレートデータ
│   ├── settingsStore.js   # 設定データ
│   └── appStore.js        # アプリ全体の状態
├── utils/                 # ユーティリティ関数
│   ├── formatters.js      # データフォーマット（通貨、日付等）
│   ├── validators.js      # バリデーション関数
│   ├── calculations.js    # 計算処理（利息、税金等）
│   ├── dateUtils.js       # 日付操作
│   ├── currencyUtils.js   # 通貨処理
│   ├── exportUtils.js     # エクスポート処理
│   ├── importUtils.js     # インポート処理
│   └── chartUtils.js      # チャート関連
├── constants/             # 定数定義
│   ├── api.js            # API エンドポイント
│   ├── routes.js         # ルート定義
│   ├── categories.js     # デフォルトカテゴリ
│   ├── currencies.js     # 通貨定義
│   ├── colors.js         # カラーパレット
│   ├── dateFormats.js    # 日付フォーマット
│   └── validationRules.js # バリデーションルール
├── services/             # API呼び出し・外部サービス
│   ├── api.js           # 基本API設定
│   ├── authService.js   # 認証サービス
│   ├── dataService.js   # データ操作サービス
│   ├── exportService.js # エクスポートサービス
│   ├── importService.js # インポートサービス
│   ├── backupService.js # バックアップサービス
│   └── syncService.js   # データ同期サービス
└── assets/              # 静的ファイル
    ├── images/          # 画像ファイル
    │   ├── icons/       # アイコン画像
    │   ├── logos/       # ロゴ画像
    │   └── illustrations/ # イラスト
    ├── fonts/           # フォントファイル
    └── styles/          # スタイル関連
        ├── globals.css  # グローバルスタイル
        ├── variables.css # CSS変数
        └── themes/      # テーマファイル
```

## 設計方針と命名規則

### 1. Atomic Design パターン
- **Atoms**: `components/ui/` - 最小単位のUIコンポーネント
- **Molecules**: `components/forms/`, `components/charts/` - 複数のAtomsを組み合わせた機能コンポーネント
- **Organisms**: `components/layout/`, `features/*/components/` - 複雑なUIブロック
- **Templates**: `features/*/` の各ページレベルコンポーネント
- **Pages**: React Router でルーティングされる画面コンポーネント

### 2. Feature-based Architecture
各機能（feature）は独立したモジュールとして設計され、以下の構造を持ちます：
- `components/` - 機能専用のUIコンポーネント
- `hooks/` - 機能専用のカスタムフック
- `services/` - 機能専用のAPIサービス

### 3. 命名規則
- **コンポーネント**: PascalCase（例: `TransactionForm.js`）
- **フック**: camelCase + use接頭辞（例: `useTransactions.js`）
- **サービス**: camelCase + Service接尾辞（例: `transactionService.js`）
- **ストア**: camelCase + Store接尾辞（例: `transactionStore.js`）
- **ユーティリティ**: camelCase + Utils接尾辞（例: `dateUtils.js`）

### 4. インポート規則
各フォルダには `index.js` ファイルを配置し、外部からの適切なインポートパスを提供します。

```javascript
// 推奨
import { Button, Input, Modal } from 'components/ui';
import { useTransactions } from 'features/transactions/hooks';

// 非推奨
import Button from 'components/ui/Button';
import Input from 'components/ui/Input';
```

## 技術スタック

- **フロントエンド**: React + JavaScript
- **スタイリング**: Tailwind CSS
- **状態管理**: Zustand
- **ルーティング**: React Router DOM
- **アイコン**: React Icons
- **チャート**: Recharts
- **開発ツール**: Storybook
- **リンター**: ESLint + Prettier
- **ユーティリティ**: clsx
- **チュートリアル**: Driver.js
